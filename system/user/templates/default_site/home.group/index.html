{layout='layouts/_home'}

{layout:set name='body_class' value='landing-page'}


{!-- layout vars, dynamic, not output --}
{layout:set name='title' value='{if seo_title}{seo_title}{if:else}{p_title}{/if}{gv_sep}'}
{layout:set name='description' value='{if seo_desc}{seo_desc}{if:else}{p_description}{/if}'}
{!-- OpenGraph meta output --}
{layout:set name='og_title' value='{if seo_title}{seo_title}{if:else}{p_title}{/if}'}
{layout:set name='og_url'}{path='{p_url}'}{/layout:set}
{layout:set name='og_description' value='{if seo_desc}{seo_desc}{if:else}{p_description}{/if}'}
{!-- /layout vars, dynamic, not output --}

  <div class="wrapper">
    <div class="section section-hero section-shaped">
      <div class="shape shape-style-3 shape-default">
        <!-- <span class="span-150"></span>
        <span class="span-50"></span>
        <span class="span-50"></span>
        <span class="span-75"></span>
        <span class="span-100"></span>
        <span class="span-75"></span>
        <span class="span-50"></span>
        <span class="span-100"></span>
        <span class="span-50"></span>
        <span class="span-100"></span> -->
      </div>
      <div class="page-header">
        <div class="container shape-container d-flex align-items-center py-lg">
          <div class="col px-0">
            <div class="row align-items-center justify-content-center">
              <div class="col-lg-12 text-center">
                <h1 class="text-white display-1">Choose Your Constituency</h1>
                <!-- <h2 class="display-4 font-weight-normal text-white">The time is right now!</h2>
                <div class="btn-wrapper mt-4">
                  <a href="https://www.creative-tim.com/product/argon-design-system" class="btn btn-warning btn-icon mt-3 mb-sm-0">
                    <span class="btn-inner--icon"><i class="ni ni-button-play"></i></span>
                    <span class="btn-inner--text">Play more</span>
                  </a>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="separator separator-bottom separator-skew zindex-100">
        <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <polygon class="fill-secondary" points="2560 0 2560 100 0 100"></polygon>
        </svg>
      </div>
    </div>

    <section class="section bg-secondary">
        <div class="container">
            <div class="card card-profile shadow mt--200">
              <div class="row py-3 px-3">
                <div class="col-md-6 mx-auto">
                  <div class="accordion-1">
                    <div class="container">
                      <div class="row">
                        <div class="col-md-12 ml-auto">
                          <div class="accordion my-3" id="accordionExample">
                              {exp:contact_your_td:constituencies}
                                <div class="card">
                                  <div class="card-header" id="heading{count}">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link w-100 text-primary text-left" type="button" data-toggle="collapse" data-target="#collapse{count}" aria-expanded="true" aria-controls="collapse{count}">
                                          {province_name}
                                            <i class="ni ni-bold-down float-right"></i>
                                      </button>
                                    </h5>
                                  </div>

                                  <div id="collapse{count}" class="collapse" aria-labelledby="heading{count}" data-parent="#accordionExample">
                                    <div class="card-body opacity-8">
                                        {constituencies}
                                          <a href="/constituency/{province_url_title}/{constituency_url_title}" class="btn btn-outline-primary mx-1 my-1">{constituency_name}</a>
                                        {/constituencies}
                                    </div>
                                  </div>
                                </div>

                            {/exp:contact_your_td:constituencies}
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mx-auto text-center">
                  <div id="map"></div>
                </div>
            </div>
        </div>
    </section>

    <script src="/assets/js/raphael.js"></script>
    <script>
      var MAP_WIDTH  = 450;
      var MAP_HEIGHT = 600;

      var mapContainer = document.getElementById("map");
      var map = new Raphael(mapContainer, MAP_WIDTH, MAP_HEIGHT);
      map.setViewBox(0,0,map.width,map.height);

      var style = {
        fill: "#ced4da",
        stroke: "#ececec",
        "stroke-width": 1,
        "stroke-linejoin": "round",
        cursor: "pointer"
      };

      var dublinStyle = {
        fill: "#ced4da",
        stroke: "#adb5bd",
        "stroke-width": 2,
        "stroke-linejoin": "round",
        //cursor: "pointer"
      };

      var regions = {};

      //regions["northern-ireland"] = map.path("M 391.7809 247.7634 401.0954 246.6945 411.8895 237.3045 417.2 227.1231 440.201 230.3608 451.8535 207.8442 433.806 198.9402 430.8718 193.8756 439.4268 181.0534 455.4786 186.6931 471.5736 174.6325 480.1554 177.036 484.3658 164.9157 493.8261 156.143 500.02 142.823 498.9269 128.561 505.2603 125.748 507.0661 105.4068 526.6476 93.9471 555.5336 98.3986 562.0803 90.41 568.7926 71.1885 576.5669 65.7574 603.4551 65.9256 606.2337 60.3819 629.9268 53.9543 635.2921 46.8835 651.3419 49.3731 655.2488 46.0898 674.642 56.2154 688.5572 49.9869 699.6582 57.463 705.7064 67.0715 703.9931 93.9793 715.7279 95.6798 711.9808 110.8783 720.3994 114.7662 729.1348 130.2716 742.429 145.029 747.127 142.2378 757.2361 154.2074 757.5497 165.5823 749.9036 175.7597 735.9886 181.9587 725.7645 197.0163 734.6542 199.8438 751.1656 188.2405 754.3993 190.7535 775.36 188.0739 782.6538 196.2541 784.4193 207.9548 791.0255 215.8593 793.624 232.4159 798.2549 235.747 791.0003 268.5239 780.282 260.7026 782.7017 233.8468 778.7085 223.9176 760.9998 211.9348 758.5986 221.4247 767.9313 242.0265 768.1908 258.2922 780.8934 263.9983 784.3385 280.1095 774.3039 296.8259 753.8752 296.6097 741.0794 300.2334 732.9388 307.6169 735.7851 319.2408 732.4713 334.7534 709.3052 355.4108 689.9494 343.8283 688.6387 338.759 673.4011 334.4899 658.6579 348.051 645.5579 346.5929 628.4182 352.7339 622.3124 352.9878 618.1421 333.0158 622.4517 326.7418 617.3755 315.2598 605.2043 316.3787 596.6585 309.835 587.9936 292.5885 586.764 280.8077 579.7917 269.4692 562.186 257.8616 544.1137 280.0169 541.3439 292.7618 545.2058 307.9474 530.2307 313.4977 510.5809 334.2696 506.323 325.9567 495.9802 334.6936 482.9751 333.7133 462.5403 313.1449 446.157 314.9988 438.6453 310.4402 434.7121 289.6122 426.0221 288.6078 420.1026 278.4913 409.7645 273.0173 391.7809 247.7634 Z");

      {exp:contact_your_td:constituencies}
      {constituencies}
        {if province != 'dublin'}
          regions["{constituency_url_title}"] = map.path("{map}");
          regions["{constituency_url_title}"].attr(style).attr('href', '/constituency/{province_url_title}/{constituency_url_title}').attr('data-toggle', 'tooltip').attr('title', regionName);
        {/if}
      {/constituencies}
      {/exp:contact_your_td:constituencies}

        regions["dublin"] = map.path("m 406.3538,262.63295 -1.27348,0.21991 c -0.69993,0.12058 -1.31058,0.24271 -1.35812,0.27363 -0.23189,0.15151 -0.3977,1.08615 -0.49007,2.7792 -0.0541,0.98083 -0.11594,1.8718 -0.13913,1.98072 -0.0387,0.12561 -0.70805,0.68103 -1.85669,1.51611 -0.99598,0.72444 -2.09516,1.57421 -2.443,1.88943 -0.72428,0.65657 -0.90786,0.6958 -1.49764,0.31924 -0.21643,-0.13952 -1.02265,-0.62113 -1.78558,-1.07019 l -1.38749,-0.8151 -0.74631,0.24465 c -0.7409,0.24271 -0.76486,0.25933 -2.25671,1.70279 l -1.50807,1.45806 -0.32079,1.08059 c -0.17778,0.59364 -0.32078,1.10733 -0.32078,1.14068 -7.8e-4,0.0348 0.49354,0.50835 1.09956,1.05569 l 1.1011,0.99347 h 0.96429 0.96467 l 1.08063,0.99761 c 0.59364,0.54842 1.09762,1.08696 1.11965,1.19672 0.0386,0.10976 0.0657,0.39824 0.10049,0.64091 0.0618,0.49185 0.0734,0.49946 0.93955,0.59937 0.904,0.10435 0.91521,0.11401 1.39368,1.20708 0.23962,0.54715 0.43442,1.0899 0.43364,1.20503 -7.7e-4,0.11518 -0.38262,1.24276 -0.85027,2.5075 -0.57162,1.54661 -0.95308,2.75767 -1.16604,3.698 -0.17392,0.76896 -0.37876,1.46081 -0.45374,1.53687 -0.0966,0.0966 -0.75017,0.20445 -2.18868,0.36098 -1.12777,0.1229 -2.09554,0.2404 -2.15081,0.26127 -0.0541,0.0232 -0.28214,0.33508 -0.50127,0.69896 l -0.40041,0.66163 0.0773,0.63879 c 0.0425,0.35093 0.0696,0.7133 0.0541,0.80475 0,0.0912 -0.57007,0.93592 -1.24024,1.87698 -0.87849,1.23375 -1.42344,1.8977 -1.95563,2.38305 l -0.73858,0.67407 -0.058,1.39584 c -0.0387,0.76769 -0.085,1.46615 -0.11594,1.55346 -0.0387,0.0873 -0.43596,0.37566 -0.89588,0.63878 -0.45992,0.2632 -0.89125,0.53297 -0.96004,0.60146 -0.0696,0.0684 -0.20097,0.47375 -0.28987,0.90013 l -0.17005,0.77568 0.35557,0.73008 0.3517,0.73004 -0.25508,0.87319 c -0.45644,1.55921 -0.29373,1.41432 -2.03061,1.81889 -0.59326,0.13875 -1.12662,0.29876 -1.18382,0.35673 -0.0541,0.058 -0.26281,0.38572 -0.44832,0.72799 l -0.34398,0.62221 0.47886,0.30919 c 0.26668,0.16928 0.51249,0.39603 0.55191,0.50394 0.0387,0.10783 0.0387,0.69019 -0.0387,1.29424 -0.0966,1.009 -0.12754,1.11954 -0.37103,1.37508 -0.24349,0.25431 -0.26281,0.31886 -0.20097,0.7404 l 0.0618,0.46046 0.85298,0.41478 c 1.09493,0.53316 1.29165,0.69066 1.29165,1.02253 0,0.21296 -0.13527,0.37992 -0.69916,0.86071 -0.60369,0.51442 -0.69722,0.63624 -0.68022,0.87528 l 0.0387,0.27596 1.36276,0.21141 c 1.37281,0.21179 2.33362,0.42888 2.8747,0.64709 0.25508,0.10204 0.34011,0.23035 0.59751,0.9188 l 0.30146,0.80266 0.48157,0.0479 c 0.26667,0.027 1.23831,0.0711 2.16279,0.0997 1.02458,0.0348 1.73262,0.0939 1.80915,0.15769 0.0696,0.0572 0.3633,0.47936 0.65317,0.93743 l 0.52871,0.83381 h 0.70302 c 0.38727,0 1.11077,0.0657 1.60741,0.14725 1.34034,0.21991 1.32527,0.19595 1.32527,2.24202 v 1.62808 l 0.77414,0.28639 c 0.42552,0.15691 0.7865,0.28755 0.80003,0.29025 0.0387,0.002 0.4062,-0.18745 0.87114,-0.42104 0.5349,-0.26861 0.8781,-0.50066 0.93298,-0.6326 0.0464,-0.11479 0.26668,-1.30123 0.48157,-2.63609 0.27054,-1.67852 0.44755,-2.48693 0.5577,-2.62364 0.21644,-0.26513 1.51774,-0.40156 1.84819,-0.19285 0.30146,0.18976 1.25609,1.41725 1.46441,1.88111 0.15846,0.35789 0.25121,0.42348 1.12622,0.82338 l 0.95154,0.43553 1.14091,-0.47078 c 0.62766,-0.25972 1.68277,-0.79477 2.34599,-1.18837 0.66321,-0.39368 1.29473,-0.71679 1.40218,-0.71764 0.29373,-0.002 2.07776,0.67535 2.21689,0.84205 0.0657,0.08 0.20871,0.36098 0.31693,0.62429 l 0.1971,0.47909 1.50151,0.16774 1.50344,0.1658 1.28392,-0.60767 c 0.7065,-0.3347 1.28391,-0.63002 1.28391,-0.65537 0,-0.0271 -0.18938,-1.24724 -0.42088,-2.71493 l -0.42321,-2.66928 0.33625,-0.92502 c 0.18551,-0.5094 0.37103,-0.96348 0.41508,-1.00797 0.0425,-0.0444 0.47152,-0.26088 0.94999,-0.48121 0.51249,-0.23576 0.89704,-0.47322 0.93531,-0.57657 0.0541,-0.14493 -0.32465,-0.47665 -2.15275,-1.90813 l -2.21728,-1.73386 -2.14849,-0.16774 -2.14926,-0.16773 -1.88684,-1.1345 c -1.03811,-0.6243 -1.94094,-1.20167 -2.00587,-1.28384 -0.17779,-0.22648 -0.15846,-2.02883 0.0386,-2.21095 0.13914,-0.14068 0.48428,-0.23344 1.69051,-0.45002 0.65896,-0.11866 0.83326,-0.21721 0.75481,-0.4314 -0.0386,-0.0638 -0.27441,-0.42595 -0.56234,-0.80475 -0.50051,-0.66518 -0.5492,-0.70148 -1.46595,-1.10338 -1.37668,-0.60312 -1.91119,-1.2695 -1.396,-1.736 0.18938,-0.16889 0.25508,-0.16773 2.14888,-0.0154 1.07598,0.0873 2.07814,0.20445 2.2254,0.26126 0.14686,0.0568 0.80505,0.19943 1.46208,0.31731 l 1.19464,0.21334 0.88583,-1.00174 c 0.84525,-0.95656 0.8924,-1.03026 0.99328,-1.60737 0.15846,-0.91273 0.17392,-0.93194 0.69065,-1.17392 0.78225,-0.36446 0.92371,-0.31035 1.48489,0.57247 0.13141,0.20754 0.64891,0.69247 1.1471,1.07846 0.89549,0.69378 0.91752,0.70584 1.96838,0.94373 l 1.06362,0.24039 0.3517,-1.63226 c 0.19325,-0.89789 0.34011,-1.6442 0.32079,-1.65714 -0.20484,-0.15382 -3.46989,-0.90238 -4.94203,-1.1345 -1.15869,-0.18242 -1.95756,-0.35402 -2.03293,-0.43349 -0.0696,-0.0723 -0.35943,-0.60095 -0.65123,-1.17596 -0.59056,-1.16948 -0.59442,-1.30143 -0.0541,-1.75462 0.23189,-0.19634 0.39576,-0.2489 0.75906,-0.2489 0.55114,0 0.52601,0.21643 0.24736,-2.15912 l -0.20484,-1.73595 -2.82871,-0.80888 -2.82717,-0.8068 -0.71539,-0.55167 c -1.18961,-0.91571 -1.15019,-1.0516 0.6095,-2.10103 l 1.33415,-0.79435 0.94536,-0.10783 c 0.52098,-0.0584 1.0412,-0.0711 1.15521,-0.0309 0.20484,0.0761 0.31306,0.34127 0.59906,1.5182 0.0928,0.38108 0.16619,0.47944 0.46919,0.63466 0.19711,0.10126 0.38263,0.18242 0.40852,0.18242 0.0387,0 0.25895,-0.41138 0.5121,-0.9147 0.25508,-0.50329 0.77452,-1.3114 1.15753,-1.79609 l 0.69684,-0.88143 -0.31305,-0.90226 c -0.18552,-0.5342 -0.35944,-0.89723 -0.42939,-0.88768 -0.0618,0.0116 -0.39229,0.0614 -0.72815,0.11633 -0.33624,0.0549 -1.28082,0.14609 -2.10095,0.20329 -1.42382,0.0993 -1.4988,0.0958 -1.67195,-0.0765 -0.23189,-0.23189 -0.37489,-0.84351 -0.25122,-1.07436 0.0773,-0.14764 1.26228,-0.97252 1.83969,-1.28175 0.10049,-0.0541 0.84757,-0.18204 1.65726,-0.28639 1.34576,-0.17276 1.55639,-0.22687 2.44106,-0.6243 l 0.96893,-0.43557 0.0618,-0.90427 c 0.0386,-0.49814 0.058,-1.43383 0.0618,-2.07818 v -1.1718 l -0.88777,-0.89394 -0.88969,-0.89183 -0.12755,-1.11169 c -0.0773,-0.67106 -0.17391,-1.13987 -0.24735,-1.18424 -0.0657,-0.0406 -0.63075,-0.10281 -1.25454,-0.13914 -1.07637,-0.063 -1.19618,-0.0908 -2.36067,-0.55585 l -1.22749,-0.49153 -1.15135,-1.63852 c -1.76123,-2.50908 -1.89959,-2.72571 -1.89959,-3.00108 0,-0.14068 -0.0502,-0.3003 -0.11595,-0.35248 -0.0618,-0.0526 -0.68833,-0.24503 -1.38517,-0.42935 -1.12043,-0.29644 -1.29628,-0.3718 -1.51388,-0.63883 z m 18.26197,18.69325 -0.30146,0.29025 c -0.33625,0.3262 -0.66708,1.12565 -0.57896,1.40206 0.10435,0.32234 0.40311,0.50082 1.29242,0.76946 v 0 c 0.4804,0.14532 0.93414,0.25547 1.00989,0.24697 0.21643,-0.0271 1.03463,-1.64234 1.03463,-2.05538 v -0.35248 h -0.62843 c -0.34784,0 -0.89897,-0.0684 -1.22981,-0.15151 z m -2.6115,13.91053 c -0.30919,0 -0.56389,0.027 -0.56389,0.0541 0,0.0309 0.18165,0.26242 0.39422,0.51851 0.44871,0.53227 0.57509,0.49927 0.67597,-0.17431 l 0.058,-0.39819 z");
        regions["dublin"].attr('href', '#dublin');
        var animationSpeed = 333;
        var hoverStyle = {
          fill: '#55958A',
          stroke: "#004D44",
          "stroke-width": 2
        };

        /*var niStyle = {
          fill: "#efefef",
          stroke: "#efefef",
          "stroke-width": 2,
          "stroke-linejoin": "round",

        };*/



        for(var regionName in regions) {
          /*if(regionName == 'northern-ireland') {
            //regions['northern-ireland'].attr(niStyle);
            regions['northern-ireland'].scale(0.575,0.575);
          } else {//"transform": "translate(11px, -2px) scale(0.575)"*/
            if (regionName == 'dublin') {
              regions[regionName].attr(dublinStyle);
            }

            (function (region) {
              //if (regionName != 'dublin') {
              region[0].addEventListener("mouseover", function () {
                region.animate(hoverStyle, animationSpeed);
              }, true);
              if (regionName != 'dublin') {
                region[0].addEventListener("mouseout", function () {
                  region.animate(style, animationSpeed);
                }, true);
              } else {
                region[0].addEventListener("mouseout", function () {
                  region.animate(dublinStyle, animationSpeed);
                }, true);
              }
              //}
            })(regions[regionName]);

          //}



        }




    </script>